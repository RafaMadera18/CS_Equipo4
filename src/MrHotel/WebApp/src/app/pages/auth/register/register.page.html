<ion-content class="ion-padding">
  <div class="auth-container">
    <div>
      <h1>Register</h1>
      <br />

      @if (authForm(); as authForm) {
        <form
          [formGroup]="authForm"
          autocomplete="off"
          novalidate
          (ngSubmit)="onSubmit()"
        >
          <app-input-field
            name="userName"
            label="UserName"
            placeholder="..."
            icon="person-outline"
            [errorMessage]="getErrorMsg('userName')"
          />

          <app-input-field
            name="password"
            type="password"
            label="Password"
            placeholder="..."
            icon="lock-closed-outline"
            [errorMessage]="getErrorMsg('password')"
            (blur)="onValueChanges()"
          />

          <app-input-field
            name="passwordConfirm"
            type="password"
            label="Password confirmation"
            placeholder="..."
            icon="lock-closed-outline"
            [errorMessage]="getErrorMsg('passwordConfirm')"
            (blur)="onValueChanges()"
          />

          <app-input-field
            name="adminCode"
            type="password"
            label="Admin code"
            placeholder="..."
            icon="key-outline"
            [errorMessage]="getErrorMsg('adminCode')"
          />

          <ion-button
            class="auth-button"
            expand="block"
            [disabled]="!authForm.valid"
            shape="round"
            type="submit"
            size="large"
          >
            Register
          </ion-button>

          <div class="auth-error" style="position: absolute">
            {{ errorMessage() }}
          </div>
        </form>
      }
    </div>
  </div>
</ion-content>
